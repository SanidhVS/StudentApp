{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../_services/account.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"ngx-toastr\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\n\nfunction NavComponent_form_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"form\", 5, 6);\n    i0.ɵɵlistener(\"ngSubmit\", function NavComponent_form_4_Template_form_ngSubmit_0_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return ctx_r3.logIn();\n    });\n    i0.ɵɵelementStart(2, \"input\", 7);\n    i0.ɵɵlistener(\"ngModelChange\", function NavComponent_form_4_Template_input_ngModelChange_2_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return ctx_r5.model.userName = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"input\", 8);\n    i0.ɵɵlistener(\"ngModelChange\", function NavComponent_form_4_Template_input_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.model.password = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 9);\n    i0.ɵɵtext(5, \"Login\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.model.userName);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.model.password);\n  }\n}\n\nfunction NavComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"a\", 10);\n    i0.ɵɵtext(2, \"Welcome User\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function NavComponent_div_6_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return ctx_r8.logOut();\n    });\n    i0.ɵɵtext(4, \"Logout\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport class NavComponent {\n  constructor(accountService, router, toastr) {\n    this.accountService = accountService;\n    this.router = router;\n    this.toastr = toastr;\n    this.model = {};\n  }\n\n  ngOnInit() {\n    this.currentUser$ = this.accountService.currentUser$;\n  }\n\n  logIn() {\n    this.accountService.login(this.model).subscribe(response => {\n      this.router.navigateByUrl('/students');\n    }, error => {\n      console.log(error);\n      this.toastr.error(error);\n    });\n  }\n\n  logOut() {\n    this.accountService.logout();\n    this.router.navigateByUrl('/');\n  }\n\n  getCurrentUser() {\n    this.accountService.currentUser$.subscribe(user => {\n      this.loggedIn = !!user;\n    }, error => {\n      console.log(error);\n    });\n  }\n\n}\n\nNavComponent.ɵfac = function NavComponent_Factory(t) {\n  return new (t || NavComponent)(i0.ɵɵdirectiveInject(i1.AccountService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.ToastrService));\n};\n\nNavComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: NavComponent,\n  selectors: [[\"app-nav\"]],\n  decls: 8,\n  vars: 6,\n  consts: [[1, \"navbar\", \"navbar-expand-md\", \"navbar-dark\", \"fixed-top\", \"bg-dark\"], [1, \"container\"], [\"href\", \"#\", 1, \"navbar-brand\"], [\"class\", \"d-flex\", 3, \"ngSubmit\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"d-flex\", 3, \"ngSubmit\"], [\"loginForm\", \"ngForm\"], [\"name\", \"username\", \"type\", \"text\", \"placeholder\", \"Username\", 1, \"form-control\", \"me-2\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"password\", \"type\", \"password\", \"placeholder\", \"Password\", 1, \"form-control\", \"me-2\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 1, \"btn\", \"btn-outline-success\"], [\"href\", \"\"], [1, \"btn\", \"btn-outline-success\", 3, \"click\"]],\n  template: function NavComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"nav\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1);\n      i0.ɵɵelementStart(2, \"a\", 2);\n      i0.ɵɵtext(3, \"Students App\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(4, NavComponent_form_4_Template, 6, 2, \"form\", 3);\n      i0.ɵɵpipe(5, \"async\");\n      i0.ɵɵtemplate(6, NavComponent_div_6_Template, 5, 0, \"div\", 4);\n      i0.ɵɵpipe(7, \"async\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(5, 2, ctx.currentUser$) === null);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(7, 4, ctx.currentUser$));\n    }\n  },\n  directives: [i4.NgIf, i5.ɵNgNoValidate, i5.NgControlStatusGroup, i5.NgForm, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgModel],\n  pipes: [i4.AsyncPipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJuYXYuY29tcG9uZW50LmNzcyJ9 */\"]\n});","map":{"version":3,"sources":["D:\\StudentsApp\\client\\src\\app\\nav\\nav.component.ts","D:\\StudentsApp\\client\\src\\app\\nav\\nav.component.html"],"names":[],"mappings":"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","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ToastrService } from 'ngx-toastr';\nimport { Observable } from 'rxjs';\nimport { User } from '../_models/user';\nimport { AccountService } from '../_services/account.service';\n\n@Component({\n  selector: 'app-nav',\n  templateUrl: './nav.component.html',\n  styleUrls: ['./nav.component.css']\n})\nexport class NavComponent implements OnInit {\n  model : any = {};\n  loggedIn : boolean;\n  currentUser$ : Observable<User>\n  \n  constructor(private accountService : AccountService, private router : Router, private toastr : ToastrService) { }\n\n  ngOnInit(): void {\n    this.currentUser$ = this.accountService.currentUser$;\n  }\n\n  logIn(){\n    this.accountService.login(this.model).subscribe(response => {\n      this.router.navigateByUrl('/students');\n    },\n    error => {\n      console.log(error);     \n      this.toastr.error(error);\n    });\n  }\n  logOut(){\n    this.accountService.logout();\n    this.router.navigateByUrl('/');\n  }\n  getCurrentUser(){\n    this.accountService.currentUser$.subscribe(user => {\n      this.loggedIn = !!user;\n    }, error => {\n      console.log(error);     \n    })\n  }\n}\n","<nav class=\"navbar navbar-expand-md navbar-dark fixed-top bg-dark\">\n    <div class=\"container\">\n            <a class=\"navbar-brand\" href=\"#\">Students App</a>\n              <form *ngIf=\"(currentUser$ | async) === null\"  #loginForm=\"ngForm\" \n              class=\"d-flex\" \n              (ngSubmit)=\"logIn()\">\n                <input class=\"form-control me-2\"\n                name=\"username\"\n                type=\"text\" \n                placeholder=\"Username\"\n                [(ngModel)]=\"model.userName\">\n                <input class=\"form-control me-2\"\n                 name=\"password\"\n                 type=\"password\" \n                 placeholder=\"Password\"\n                 [(ngModel)]=\"model.password\">\n                <button class=\"btn btn-outline-success\" type=\"submit\">Login</button>              \n              </form>\n              <div *ngIf=\"(currentUser$ | async) as user\">\n                <a href=\"\">Welcome User</a>          \n                 <button class=\"btn btn-outline-success\"  (click)=\"logOut()\">Logout</button>\n\n              </div>\n    </div>\n\n  </nav>"],"sourceRoot":""},"metadata":{},"sourceType":"module"}